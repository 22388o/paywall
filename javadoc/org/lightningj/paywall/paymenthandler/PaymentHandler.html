<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Aug 22 16:18:34 CEST 2019 -->
<title>PaymentHandler</title>
<meta name="date" content="2019-08-22">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PaymentHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentEventType.html" title="enum in org.lightningj.paywall.paymenthandler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/lightningj/paywall/paymenthandler/PaymentHandler.html" target="_top">Frames</a></li>
<li><a href="PaymentHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.lightningj.paywall.paymenthandler</div>
<h2 title="Interface PaymentHandler" class="title">Interface PaymentHandler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a>, <a href="../../../../org/lightningj/paywall/springboot2/paymenthandler/DemoPaymentHandler.html" title="class in org.lightningj.paywall.springboot2.paymenthandler">DemoPaymentHandler</a>, <a href="../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html" title="class in org.lightningj.paywall.paywalltademo.paymenthandler">DemoPaymentHandler</a>, <a href="../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html" title="class in org.lightningj.paywall.spring">SpringPaymentHandler</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">PaymentHandler</span></pre>
<div class="block">Interface for a PaymentHandler handling orders, invoices and settlements.
 <p>
 All payment flows need a custom implementations of a payment handler persisting
 generated invoices and constructing orders from an order request constructed
 from a WebService with PaymentRequired annotation.
 <p>
 It is recommended to implement a class that inherits the BasePaymentHandler
 that takes care of most of the logic.
 <p>
 Created by Philip Vendil on 2018-12-04.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/lightningj/paywall/vo/Settlement.html" title="class in org.lightningj.paywall.vo">Settlement</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#checkSettlement-byte:A-boolean-">checkSettlement</a></span>(byte[]&nbsp;preImageHash,
               boolean&nbsp;includeInvoice)</code>
<div class="block">Method to check if a given preImageHash is settled and returns a settlement value
 object if invoice is settled.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/lightningj/paywall/vo/Order.html" title="class in org.lightningj.paywall.vo">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#createOrder-byte:A-org.lightningj.paywall.vo.OrderRequest-">createOrder</a></span>(byte[]&nbsp;preImageHash,
           <a href="../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest)</code>
<div class="block">Method to create an order from a preImageHash and and order request.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#getLightningHandlerContext--">getLightningHandlerContext</a></span>()</code>
<div class="block">Method to generate the latest LightningHandlerContext of latest
 known state of the lightning node.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#init--">init</a></span>()</code>
<div class="block">Method that is called during the startup the application to
 set up all required sub components of the PaymentHandler.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../org/lightningj/paywall/vo/Invoice.html" title="class in org.lightningj.paywall.vo">Invoice</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#lookupInvoice-byte:A-">lookupInvoice</a></span>(byte[]&nbsp;preImageHash)</code>
<div class="block">Method to lookup an invoice in the PaymentHandler.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#markAsExecuted-byte:A-">markAsExecuted</a></span>(byte[]&nbsp;preImageHash)</code>
<div class="block">Method to flag a related payment flow is a pay per request type and has been processed successfully.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#registerListener-org.lightningj.paywall.paymenthandler.PaymentListener-">registerListener</a></span>(<a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler">PaymentListener</a>&nbsp;listener)</code>
<div class="block">Method to add the listener to the set of listeners listening
 on payment events.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/lightningj/paywall/vo/Settlement.html" title="class in org.lightningj.paywall.vo">Settlement</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#registerSettledInvoice-org.lightningj.paywall.vo.Invoice-boolean-org.lightningj.paywall.vo.OrderRequest-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">registerSettledInvoice</a></span>(<a href="../../../../org/lightningj/paywall/vo/Invoice.html" title="class in org.lightningj.paywall.vo">Invoice</a>&nbsp;settledInvoice,
                      boolean&nbsp;registerNew,
                      <a href="../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest,
                      <a href="../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a>&nbsp;context)</code>
<div class="block">Method to manually register an invoice as settled (isSettled must be set to true) used
 in some payment flows instead of listening on lightningHandler events.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html#unregisterListener-org.lightningj.paywall.paymenthandler.PaymentListener-">unregisterListener</a></span>(<a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler">PaymentListener</a>&nbsp;listener)</code>
<div class="block">Method to remove the listener to the set of listeners listening
 on payment events.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>void&nbsp;init()
   throws <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method that is called during the startup the application to
 set up all required sub components of the PaymentHandler.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal error occurred setting
 up the PaymentHandler.</dd>
</dl>
</li>
</ul>
<a name="createOrder-byte:A-org.lightningj.paywall.vo.OrderRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOrder</h4>
<pre><a href="../../../../org/lightningj/paywall/vo/Order.html" title="class in org.lightningj.paywall.vo">Order</a>&nbsp;createOrder(byte[]&nbsp;preImageHash,
                  <a href="../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest)
           throws java.io.IOException,
                  <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to create an order from a preImageHash and and order request.
 The implementation should lookup the article id and return an order
 with all required fields set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the unique preImageHash used to identify a payment flow
                     withing a lightning payment.</dd>
<dd><code>orderRequest</code> - the specification of the order that should be created calculated
                     from data in the PaymentRequired annotation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a newly created order used to create a lightning invoice in LightningHandler.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred creating the order.</dd>
</dl>
</li>
</ul>
<a name="lookupInvoice-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lookupInvoice</h4>
<pre><a href="../../../../org/lightningj/paywall/vo/Invoice.html" title="class in org.lightningj.paywall.vo">Invoice</a>&nbsp;lookupInvoice(byte[]&nbsp;preImageHash)
               throws java.io.IOException,
                      <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to lookup an invoice in the PaymentHandler. The payment handler might
 call the LightningHandler to get complementary data about the invoice.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the unique preImageHash used to identify an invoice
                     withing a lightning payment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the related invoice or null if no invoice with related preImageHash found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred looking up the invoice.</dd>
</dl>
</li>
</ul>
<a name="checkSettlement-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSettlement</h4>
<pre><a href="../../../../org/lightningj/paywall/vo/Settlement.html" title="class in org.lightningj.paywall.vo">Settlement</a>&nbsp;checkSettlement(byte[]&nbsp;preImageHash,
                           boolean&nbsp;includeInvoice)
                    throws <a href="../../../../org/lightningj/paywall/AlreadyExecutedException.html" title="class in org.lightningj.paywall">AlreadyExecutedException</a>,
                           java.lang.IllegalArgumentException,
                           java.io.IOException,
                           <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to check if a given preImageHash is settled and returns a settlement value
 object if invoice is settled.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the preImageHash of the invoice to check.</dd>
<dd><code>includeInvoice</code> - if a invoice should be included in the settlement response. This might
                       consume more resources.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a settlement value object of related preImageHash if invoice is settled, otherwise null.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/lightningj/paywall/AlreadyExecutedException.html" title="class in org.lightningj.paywall">AlreadyExecutedException</a></code> - if related payment is pay per request and is already executed.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if related payment is per request and is already executed.</dd>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred looking up the settlement.</dd>
</dl>
</li>
</ul>
<a name="registerSettledInvoice-org.lightningj.paywall.vo.Invoice-boolean-org.lightningj.paywall.vo.OrderRequest-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerSettledInvoice</h4>
<pre><a href="../../../../org/lightningj/paywall/vo/Settlement.html" title="class in org.lightningj.paywall.vo">Settlement</a>&nbsp;registerSettledInvoice(<a href="../../../../org/lightningj/paywall/vo/Invoice.html" title="class in org.lightningj.paywall.vo">Invoice</a>&nbsp;settledInvoice,
                                  boolean&nbsp;registerNew,
                                  <a href="../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest,
                                  <a href="../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a>&nbsp;context)
                           throws java.lang.IllegalArgumentException,
                                  java.io.IOException,
                                  <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to manually register an invoice as settled (isSettled must be set to true) used
 in some payment flows instead of listening on lightningHandler events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>settledInvoice</code> - a settled invoice that should be registered in the payment handler.</dd>
<dd><code>registerNew</code> - if a new payment data should be created if no prior object existed for related
                    preImageHash.</dd>
<dd><code>orderRequest</code> - the specification of the order that should be created calculated
                     from data in the PaymentRequired annotation. Only used if new payment data needs to be
                     registered.</dd>
<dd><code>context</code> - the latest known state of the lightning handler. Null if no known state exists.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a settlement value object for the given settledInvoice.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if settled invoices preImageHash does exists as payment data and registerNew is false.</dd>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred registering a settled invoice.</dd>
</dl>
</li>
</ul>
<a name="markAsExecuted-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAsExecuted</h4>
<pre>void&nbsp;markAsExecuted(byte[]&nbsp;preImageHash)
             throws java.io.IOException,
                    <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to flag a related payment flow is a pay per request type and has been processed successfully.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the preImageHash of the payment to mark as processed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred updating the payment or no related payment found.</dd>
</dl>
</li>
</ul>
<a name="registerListener-org.lightningj.paywall.paymenthandler.PaymentListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerListener</h4>
<pre>void&nbsp;registerListener(<a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler">PaymentListener</a>&nbsp;listener)
               throws <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to add the listener to the set of listeners listening
 on payment events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to register.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred registering the listener.</dd>
</dl>
</li>
</ul>
<a name="unregisterListener-org.lightningj.paywall.paymenthandler.PaymentListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterListener</h4>
<pre>void&nbsp;unregisterListener(<a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler">PaymentListener</a>&nbsp;listener)
                 throws <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to remove the listener to the set of listeners listening
 on payment events.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to un-register.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred un-registering the listener.</dd>
</dl>
</li>
</ul>
<a name="getLightningHandlerContext--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLightningHandlerContext</h4>
<pre><a href="../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a>&nbsp;getLightningHandlerContext()
                                            throws <a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to generate the latest LightningHandlerContext of latest
 known state of the lightning node. Used to make sure the PaymentHandler
 starts listening on the correct location of the invoice event queue after
 restart. For LND Nodes should this method return a LNDLightningHandlerContext</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the last known state of lightning handler context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred fetching latest known state of lightning handler.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentEventType.html" title="enum in org.lightningj.paywall.paymenthandler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/lightningj/paywall/paymenthandler/PaymentListener.html" title="interface in org.lightningj.paywall.paymenthandler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/lightningj/paywall/paymenthandler/PaymentHandler.html" target="_top">Frames</a></li>
<li><a href="PaymentHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
