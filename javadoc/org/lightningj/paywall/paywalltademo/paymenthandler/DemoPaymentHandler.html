<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Thu Aug 22 16:18:34 CEST 2019 -->
<title>DemoPaymentHandler</title>
<meta name="date" content="2019-08-22">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DemoPaymentHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/ArticleDataRepository.html" title="interface in org.lightningj.paywall.paywalltademo.paymenthandler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPerRequestPaymentData.html" title="class in org.lightningj.paywall.paywalltademo.paymenthandler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html" target="_top">Frames</a></li>
<li><a href="DemoPaymentHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.lightningj.paywall.paymenthandler.BasePaymentHandler">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.lightningj.paywall.paywalltademo.paymenthandler</div>
<h2 title="Class DemoPaymentHandler" class="title">Class DemoPaymentHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">org.lightningj.paywall.paymenthandler.BasePaymentHandler</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html" title="class in org.lightningj.paywall.spring">org.lightningj.paywall.spring.SpringPaymentHandler</a></li>
<li>
<ul class="inheritance">
<li>org.lightningj.paywall.paywalltademo.paymenthandler.DemoPaymentHandler</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/lightningj/paywall/lightninghandler/LightningEventListener.html" title="interface in org.lightningj.paywall.lightninghandler">LightningEventListener</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/PaymentHandler.html" title="interface in org.lightningj.paywall.paymenthandler">PaymentHandler</a>, org.springframework.beans.factory.InitializingBean</dd>
</dl>
<hr>
<br>
<pre>@ComponentScan(value="org.lightningj.paywall.spring")
 @Component(value="paymentHandler")
public class <span class="typeNameLabel">DemoPaymentHandler</span>
extends <a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html" title="class in org.lightningj.paywall.spring">SpringPaymentHandler</a></pre>
<div class="block">Demo implementation of a Payment Handler extending SpringPaymentHandler.

 It creates DemoPaymentData that implements the PerRequestPaymentData interface. (In order to demonstrate
 support for both request that's valid for a period of time and for a specific request.)
 by first looking up the article id order (generated by the @PaymentRequired annotation).
 Then checks the price of the article in ArticleData table to calculate the ordered amount.

 It also implements the lookup by preImageHash method and update payment data methods by calling
 related methods in the DemoPaymentDataRepository.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.lightningj.paywall.paymenthandler.BasePaymentHandler">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.lightningj.paywall.paymenthandler.<a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a></h3>
<code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#paymentDataConverter">paymentDataConverter</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#paymentEventBus">paymentEventBus</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html#DemoPaymentHandler--">DemoPaymentHandler</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html#afterPropertiesSet--">afterPropertiesSet</a></span>()</code>
<div class="block">Method called after initialization of bean.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html#findPaymentData-byte:A-">findPaymentData</a></span>(byte[]&nbsp;preImageHash)</code>
<div class="block">Method to lookup a payment data in the payment handler.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html#newPaymentData-byte:A-org.lightningj.paywall.vo.OrderRequest-">newPaymentData</a></span>(byte[]&nbsp;preImageHash,
              <a href="../../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest)</code>
<div class="block">Method that should generate a new PaymentData for a given order request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html#updatePaymentData-org.lightningj.paywall.paymenthandler.PaymentEventType-org.lightningj.paywall.paymenthandler.data.PaymentData-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">updatePaymentData</a></span>(<a href="../../../../../org/lightningj/paywall/paymenthandler/PaymentEventType.html" title="enum in org.lightningj.paywall.paymenthandler">PaymentEventType</a>&nbsp;type,
                 <a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a>&nbsp;paymentData,
                 <a href="../../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a>&nbsp;context)</code>
<div class="block">Method called on update events about a given payment data.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.lightningj.paywall.spring.SpringPaymentHandler">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.lightningj.paywall.spring.<a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html" title="class in org.lightningj.paywall.spring">SpringPaymentHandler</a></h3>
<code><a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html#getDefaultInvoiceValidity--">getDefaultInvoiceValidity</a>, <a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html#getDefaultSettlementValidity--">getDefaultSettlementValidity</a>, <a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html#getLightningHandler--">getLightningHandler</a>, <a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html#isLightningHandlerAutoconnect--">isLightningHandlerAutoconnect</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.lightningj.paywall.paymenthandler.BasePaymentHandler">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.lightningj.paywall.paymenthandler.<a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a></h3>
<code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#checkSettlement-byte:A-boolean-">checkSettlement</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#createOrder-byte:A-org.lightningj.paywall.vo.OrderRequest-">createOrder</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#getLightningHandlerContext--">getLightningHandlerContext</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#init--">init</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#lookupInvoice-byte:A-">lookupInvoice</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#markAsExecuted-byte:A-">markAsExecuted</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#onLightningEvent-org.lightningj.paywall.lightninghandler.LightningEvent-">onLightningEvent</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#registerListener-org.lightningj.paywall.paymenthandler.PaymentListener-">registerListener</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#registerSettledInvoice-org.lightningj.paywall.vo.Invoice-boolean-org.lightningj.paywall.vo.OrderRequest-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">registerSettledInvoice</a>, <a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#unregisterListener-org.lightningj.paywall.paymenthandler.PaymentListener-">unregisterListener</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DemoPaymentHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DemoPaymentHandler</h4>
<pre>public&nbsp;DemoPaymentHandler()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="afterPropertiesSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterPropertiesSet</h4>
<pre>public&nbsp;void&nbsp;afterPropertiesSet()
                        throws java.lang.Exception</pre>
<div class="block">Method called after initialization of bean.

 Contains bootstrap of article database.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>afterPropertiesSet</code>&nbsp;in interface&nbsp;<code>org.springframework.beans.factory.InitializingBean</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html#afterPropertiesSet--">afterPropertiesSet</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/lightningj/paywall/spring/SpringPaymentHandler.html" title="class in org.lightningj.paywall.spring">SpringPaymentHandler</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - in the event of misconfiguration (such as failure to set an
                   essential property) or if initialization fails for any other reason</dd>
</dl>
</li>
</ul>
<a name="newPaymentData-byte:A-org.lightningj.paywall.vo.OrderRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newPaymentData</h4>
<pre>protected&nbsp;<a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a>&nbsp;newPaymentData(byte[]&nbsp;preImageHash,
                                     <a href="../../../../../org/lightningj/paywall/vo/OrderRequest.html" title="class in org.lightningj.paywall.vo">OrderRequest</a>&nbsp;orderRequest)
                              throws java.io.IOException,
                                     <a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method that should generate a new PaymentData for a given order request.
 This is the first call in a payment flow and the implementation should
 look up the order amount from the article id, units and other options in
 the order request.
 <p>
 The generated PaymentData should be at least MinimalPaymentData with preImageHash
 and orderedAmount set.
 <p>
 It is recommended that the PaymentData is persisted in this call but could
 be skipped for performance in certain payment flows.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#newPaymentData-byte:A-org.lightningj.paywall.vo.OrderRequest-">newPaymentData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the unique preImageHash used to identify a payment flow
                     withing a lightning payment.</dd>
<dd><code>orderRequest</code> - the specification of the payment data that should be created calculated
                     from data in the PaymentRequired annotation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a newly generated PaymentData signaling a new payment flow used to
 create an Order value object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if communication exception occurred in underlying components.</dd>
<dd><code><a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred generating new payment data.</dd>
</dl>
</li>
</ul>
<a name="findPaymentData-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPaymentData</h4>
<pre>protected&nbsp;<a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a>&nbsp;findPaymentData(byte[]&nbsp;preImageHash)
                               throws <a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method to lookup a payment data in the payment handler.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#findPaymentData-byte:A-">findPaymentData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preImageHash</code> - the unique preImageHash used to identify a payment flow
                     withing a lightning payment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>return related payment data or null if not found.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred fetching related payment data.</dd>
</dl>
</li>
</ul>
<a name="updatePaymentData-org.lightningj.paywall.paymenthandler.PaymentEventType-org.lightningj.paywall.paymenthandler.data.PaymentData-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updatePaymentData</h4>
<pre>protected&nbsp;void&nbsp;updatePaymentData(<a href="../../../../../org/lightningj/paywall/paymenthandler/PaymentEventType.html" title="enum in org.lightningj.paywall.paymenthandler">PaymentEventType</a>&nbsp;type,
                                 <a href="../../../../../org/lightningj/paywall/paymenthandler/data/PaymentData.html" title="interface in org.lightningj.paywall.paymenthandler.data">PaymentData</a>&nbsp;paymentData,
                                 <a href="../../../../../org/lightningj/paywall/lightninghandler/LightningHandlerContext.html" title="interface in org.lightningj.paywall.lightninghandler">LightningHandlerContext</a>&nbsp;context)
                          throws <a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></pre>
<div class="block">Method called on update events about a given payment data. This could be when
 the payment is added as invoice in LND and contains complementary data or when
 the invoice was settled and contains settled flag set and settled amount and date
 (depending on the type of PaymentData used in PaymentHandler).
 <p>
 The related payment data (using preImageHash as unique identifier) is automatically
 looked up and the implementing method should at least persist the updated data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html#updatePaymentData-org.lightningj.paywall.paymenthandler.PaymentEventType-org.lightningj.paywall.paymenthandler.data.PaymentData-org.lightningj.paywall.lightninghandler.LightningHandlerContext-">updatePaymentData</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/lightningj/paywall/paymenthandler/BasePaymentHandler.html" title="class in org.lightningj.paywall.paymenthandler">BasePaymentHandler</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - the type of event such as INVOICE_CREATED or INVOICE_SETTLED.</dd>
<dd><code>paymentData</code> - the payment data to update and persist.</dd>
<dd><code>context</code> - the latest known state of the lightning handler.  Null if no known state exists.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/lightningj/paywall/InternalErrorException.html" title="class in org.lightningj.paywall">InternalErrorException</a></code> - if internal exception occurred updating related payment data.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/ArticleDataRepository.html" title="interface in org.lightningj.paywall.paywalltademo.paymenthandler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/lightningj/paywall/paywalltademo/paymenthandler/DemoPerRequestPaymentData.html" title="class in org.lightningj.paywall.paywalltademo.paymenthandler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/lightningj/paywall/paywalltademo/paymenthandler/DemoPaymentHandler.html" target="_top">Frames</a></li>
<li><a href="DemoPaymentHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.lightningj.paywall.paymenthandler.BasePaymentHandler">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
